<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Contact Us</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <style>
    .error {
      border: 2px solid red !important;
    }
    .hidden {
      display: none;
    }

    .error-message {
  display: none;
}

.show-error {
  display: block;
}

button.btn-error {
  background-color: #dc3545; 
  border-color: #dc3545;
}
  </style>
<body class="bg-light">

  <div class="container mt-4">
    <nav class="d-flex justify-content-between align-items-center mb-4">
     
    </nav>

    <div class="card shadow p-4">
      <h2 class="mb-4 text-center">Add Customer Details</h2>
      
      <form id="accountForm" novalidate>
        <div class="row g-3 mb-3">
          <div class="col-md-6">
            <label for="name" class="form-label">Name</label>
            <input type="text" class="form-control" id="name" placeholder="Enter name" required />
            <div class="text-danger small error-message" id="nameError"></div>
          </div>
          <div class="col-md-6">
            <label for="email" class="form-label">Email ID</label>
            <input type="email" class="form-control" id="email" placeholder="Enter email" required />
            <div class="text-danger small error-message" id="emailError"></div>
          </div>
          <div class="col-md-6">
            <label for="contact" class="form-label">Contact No</label>
            <input type="text" class="form-control" id="contact" placeholder="Enter contact no" maxlength="10" inputmode="numeric" required />
            <div class="text-danger small error-message" id="contactError"></div>
          </div>
          <div class="col-md-6">
            <label for="acc_type" class="form-label">Account Type</label>
            <select class="form-select" id="acc_type" required>
              <option value="">Select account type</option>
              <option value="savings">Savings</option>
              <option value="current">Current</option>
            </select>
            <div class="text-danger small error-message" id="accTypeError"></div>
          </div>
        </div>
        <div class="text-center">
          <button type="submit" id = "submitBtn" class="btn btn-primary">Add Customer</button>
        </div>
      </form>
    </div>
  </div>

    <!-- Customer Table -->
    <div class="card shadow mt-4 p-4 hidden" id="tableCard">
      <h4 class="mb-3 text-center">Customer List</h4>
      <table class="table table-bordered table-striped text-center">
        <thead class="table-dark">
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Contact</th>
            <th>Account Type</th>
          </tr>
        </thead>
        <tbody id="customerTableBody">

        </tbody>
      </table>
    </div>
  </div>

  <script>
     const form = document.getElementById("accountForm");
    const name = document.getElementById("name");
    const email = document.getElementById("email");
    const contact = document.getElementById("contact");
    const accType = document.getElementById("acc_type");
    const tableCard = document.getElementById("tableCard");
    const tbody = document.getElementById("customerTableBody");
    const submitBtn = document.getElementById("submitBtn");
    contact.addEventListener("input", function () {
    this.value = this.value.replace(/\D/g, ""); 
  });

    form.addEventListener("submit", function (e) {
      e.preventDefault();


      [name, email, contact, accType].forEach(input => input.classList.remove("error"));
      document.querySelectorAll(".error-message").forEach(msg => {
        msg.textContent = "";
        msg.classList.remove("show-error");
      });
      submitBtn.classList.remove("btn-error");

      let hasError = false;

      if (name.value.trim() === "") {
        name.classList.add("error");
        document.getElementById("nameError").textContent = "Name is required.";
        document.getElementById("nameError").classList.add("show-error");
        hasError = true;
      }

      if (email.value.trim() === "") {
        email.classList.add("error");
        document.getElementById("emailError").textContent = "Email is required.";
        document.getElementById("emailError").classList.add("show-error");
        hasError = true;
      } else if (!email.value.includes("@")) {
        email.classList.add("error");
        document.getElementById("emailError").textContent = "Enter a valid email.";
        document.getElementById("emailError").classList.add("show-error");
        hasError = true;
      }

      if (contact.value.trim() === "") {
        contact.classList.add("error");
        document.getElementById("contactError").textContent = "Contact number is required.";
        document.getElementById("contactError").classList.add("show-error");
        hasError = true;
      } 
      else if (!/^\d{10}$/.test(contact.value)) {
  contact.classList.add("error");
  document.getElementById("contactError").textContent = "Enter a valid 10-digit number.";
  document.getElementById("contactError").classList.add("show-error");
  hasError = true;
}

      if (accType.value === "") {
        accType.classList.add("error");
        document.getElementById("accTypeError").textContent = "Please select an account type.";
        document.getElementById("accTypeError").classList.add("show-error");
        hasError = true;
      }

      if (hasError) {
        submitBtn.classList.add("btn-error");
        return;
      }


      tableCard.classList.remove("hidden");


      const row = document.createElement("tr");
      row.innerHTML = `
        <td>${name.value}</td>
        <td>${email.value}</td>
        <td>${contact.value}</td>
        <td>${accType.value}</td>
      `;
      tbody.appendChild(row);


      form.reset();
  
});

  </script>
</body>
</html>